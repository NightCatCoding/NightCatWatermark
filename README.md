# NightCat Watermark

一鍵為圖片添加水印，保護版權。

支持兩種模式：

- **明水印** — 肉眼可見的文字浮水印
- **暗水印** — 完全隱形，只有你能提取的版權信息

![效果預覽](app/ui/assets/light_watermarked_blind-200.png)

---

## 功能特點

| 明水印        | 暗水印         |
|------------|-------------|
| 自定義文字、字體大小 | 隱形嵌入，肉眼無法察覺 |
| 調整透明度、角度   | 密碼加密保護      |
| 自定義顏色、間距   | 可驗證圖片歸屬     |
| 批量處理多張圖片   | 用於追蹤盜圖來源    |

---

## 安裝

### 方式一：直接下載（推薦）

前往 [Releases](../../releases) 頁面，下載最新版 `.exe` 文件，雙擊即可運行。

### 方式二：從源碼運行

```bash
# 1. 克隆項目
git clone https://github.com/NightCatCoding/NightCatWatermark.git
cd NightCatWatermark

# 2. 安裝依賴
pip install -r requirements.txt

# 3. 運行程序
python main.py
```

---

## 使用教學

### 添加明水印

1. 打開軟件，進入「添加水印」頁面
2. 點擊「選擇圖片」添加要處理的圖片（支持批量）
3. 勾選「明水印」，輸入水印文字
4. 根據需要調整：
   - **字體大小** — 水印文字的大小
   - **透明度** — 數值越低越透明
   - **角度** — 水印傾斜角度
   - **顏色** — 水印文字顏色
   - **間距** — 水印之間的距離
5. 設置輸出目錄
6. 點擊「開始處理」

---

### 添加暗水印

1. 進入「添加水印」頁面
2. 選擇圖片並設置輸出目錄
3. 勾選「暗水印」
4. 輸入：
   - **密碼** — 用於加密，提取時需要
   - **隱藏信息** — 你想嵌入的版權文字
5. 點擊「開始處理」
6. **重要：記下處理完成後顯示的 `bit_length` 數值**

> 暗水印只支持輸出 PNG 格式，JPEG 壓縮會破壞水印數據。

---

### 提取暗水印

1. 進入「提取水印」頁面
2. 選擇要解析的圖片（必須是 PNG 格式）
3. 輸入嵌入時使用的：
   - **密碼**
   - **bit_length**
4. 點擊「提取」
5. 查看提取結果

---

## 重要提醒

使用暗水印時，必須保存以下信息：

| 項目             | 說明                        |
|----------------|---------------------------|
| **密碼**         | 加密用的密碼，提取時必須一致            |
| **bit_length** | 處理完成後顯示的數值，提取時必填          |
| **PNG 格式**     | 暗水印圖片必須保持 PNG 格式，不能轉成 JPG |

**丟失任何一項都將無法提取水印。**

---

## 常見問題

**Q: 暗水印真的看不見嗎？**  
A: 是的，暗水印嵌入在圖片的頻域中，人眼完全無法察覺。

**Q: 圖片被壓縮後還能提取暗水印嗎？**  
A: PNG 無損壓縮可以；JPEG 壓縮會破壞水印，無法提取。

**Q: 可以同時添加明水印和暗水印嗎？**  
A: 可以，兩者互不影響。

**Q: 忘記 bit_length 怎麼辦？**  
A: 無法提取。建議處理完成後立即記錄。

---

## 技術棧

- Python 3.10+
- PyQt6（界面）
- Pillow / OpenCV（圖像處理）
- blind-watermark（DCT 頻域暗水印算法）


